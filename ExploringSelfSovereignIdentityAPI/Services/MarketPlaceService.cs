using ExploringSelfSovereignIdentityAPI.Models.Request;
using ExploringSelfSovereignIdentityAPI.Services.NetheriumBlockChain;
using MediatR;
using Nethereum.ABI.FunctionEncoding.Attributes;
using Nethereum.Contracts;
using Nethereum.Contracts.ContractHandlers;
using Nethereum.Contracts.DeploymentHandlers;
using Nethereum.Web3;
using Org.BouncyCastle.Asn1.Mozilla;
using Org.BouncyCastle.Asn1.Ocsp;
using System;
using System.Collections.Generic;
using System.Numerics;
using System.Threading.Tasks;
using Attribute = ExploringSelfSovereignIdentityAPI.Services.NetheriumBlockChain.Attribute;

namespace ExploringSelfSovereignIdentityAPI.Services
{
    public class MarketPlaceService : IMarketPlaceService
    {

        /*static string url = "http://127.0.0.1:8545";
        static string privateKey = "734674bd34f2476f15c6d5f6c8c1c7c92e465921e546771d088b958607531d10";
        private readonly string senderAddress = "0x8A1f48B91fbDC94b82E1997c2630466c5FaCf38b";
        private static string contractAddress = "0x7D6FAec0a4833Ad806EBCbe7d1BFe66caCF0a961";

        static Web3 web3 = new Web3(new Nethereum.Web3.Accounts.Account(privateKey), url);

        private ContractHandler contractHandler = web3.Eth.GetContractHandler(contractAddress);

        public MarketPlaceService()
        {
            web3.TransactionManager.UseLegacyAsDefault = true;
        }*/

        private static string url = "http://testchain.nethereum.com:8545";
        private static string privateKey = "0x7580e7fb49df1c861f0050fae31c2224c6aba908e116b8da44ee8cd927b990b0";
        static Web3 web3 = new Web3(new Nethereum.Web3.Accounts.Account(privateKey, 444444444500), url);

        private static ContractHandler contractHandler;

        private async Task<ContractHandler> deploy()
        {
            var marketPlaceDeployment = new MarketPlaceDeployment();

            var transactionReceiptDeployment = await web3.Eth.GetContractDeploymentHandler<MarketPlaceDeployment>().SendRequestAndWaitForReceiptAsync(marketPlaceDeployment);
            var contractAddress = transactionReceiptDeployment.ContractAddress;
            
            return web3.Eth.GetContractHandler(contractAddress);
        }

        public async Task<string> addDataPack(AddDataPackRequest request)
        {

            if (contractHandler == null) contractHandler = await deploy();

            var addDataPackFunction = new AddDataPackFunction();
            addDataPackFunction.Request = request;
            var addDataPackFunctionTxnReceipt = await contractHandler.SendRequestAndWaitForReceiptAsync(addDataPackFunction);

            return "success";
        }

        public async Task<string> buyData(BuyDataRequest request)
        {
            if (contractHandler == null) contractHandler = await deploy();

            var buyDataFunction = new BuyDataFunction();
            buyDataFunction.Request = request;
            var buyDataFunctionTxnReceipt = await contractHandler.SendRequestAndWaitForReceiptAsync(buyDataFunction);

            return "success";
        }

        public async Task<string> createOrganization(CreateOrgRequest request)
        {
            if (contractHandler == null) contractHandler = await deploy();

            var createOrganizationFunction = new CreateOrganizationFunction();
            createOrganizationFunction.Request = request;
            var createOrganizationFunctionTxnReceipt = await contractHandler.SendRequestAndWaitForReceiptAsync(createOrganizationFunction);

            return "success";
        }

        public async Task<GetOrganizationOutputDTO> getOrganization(CreateOrgRequest request)
        {
            if (contractHandler == null) contractHandler = await deploy();

            var getOrganizationFunction = new GetOrganizationFunction();
            getOrganizationFunction.Request = request;
            var getOrganizationOutputDTO = await contractHandler.QueryDeserializingToObjectAsync<GetOrganizationFunction, GetOrganizationOutputDTO>(getOrganizationFunction);

            return getOrganizationOutputDTO;
        }
    }

    public partial class MarketPlaceDeployment : MarketPlaceDeploymentBase
    {
        public MarketPlaceDeployment() : base(BYTECODE) { }
        public MarketPlaceDeployment(string byteCode) : base(byteCode) { }
    }

    public class MarketPlaceDeploymentBase : ContractDeploymentMessage
    {
        public static string BYTECODE = "0x608060405234801561001057600080fd5b5061218c806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806317d104f81461005157806373001f801461006d578063804a18b81461009d5780638d0f9c68146100b9575b600080fd5b61006b6004803603810190610066919061157c565b6100d5565b005b6100876004803603810190610082919061164d565b6102be565b6040516100949190611ac3565b60405180910390f35b6100b760048036038101906100b29190611d36565b610c0c565b005b6100d360048036038101906100ce919061164d565b6110c2565b005b60008082600001516040516100ea9190611dbb565b9081526020016040518091039020600301600081548092919061010c90611e01565b91905055905081602001516000836000015160405161012b9190611dbb565b90815260200160405180910390206004016000838152602001908152602001600020600001908161015c9190612055565b508160400151600083600001516040516101769190611dbb565b9081526020016040518091039020600401600083815260200190815260200160002060010181905550816060015151600083600001516040516101b99190611dbb565b908152602001604051809103902060040160008381526020019081526020016000206002018190555060008083600001516040516101f79190611dbb565b908152602001604051809103902060040160008381526020019081526020016000206004018190555060005b8260600151518110156102b9578260600151818151811061024757610246612127565b5b6020026020010151600084600001516040516102639190611dbb565b90815260200160405180910390206004016000848152602001908152602001600020600301600083815260200190815260200160002090816102a59190612055565b5080806102b190611e01565b915050610223565b505050565b6102c66111b3565b6102ce6111b3565b6103898360200151600085600001516040516102ea9190611dbb565b9081526020016040518091039020600101805461030690611e78565b80601f016020809104026020016040519081016040528092919081815260200182805461033290611e78565b801561037f5780601f106103545761010080835404028352916020019161037f565b820191906000526020600020905b81548152906001019060200180831161036257829003601f168201915b5050505050611188565b6103d4576040518060400160405280600681526020017f6661696c65640000000000000000000000000000000000000000000000000000815250816040018190525080915050610c07565b826000015181600001819052506040518060400160405280600781526020017f73756363657373000000000000000000000000000000000000000000000000008152508160400181905250600083600001516040516104339190611dbb565b90815260200160405180910390206002015481602001818152505060008084600001516040516104639190611dbb565b90815260200160405180910390206003015490508067ffffffffffffffff8111156104915761049061125a565b5b6040519080825280602002602001820160405280156104ca57816020015b6104b76111db565b8152602001906001900390816104af5790505b50826060018190525060005b81811015610c0057600085600001516040516104f29190611dbb565b90815260200160405180910390206004016000828152602001908152602001600020600001805461052290611e78565b80601f016020809104026020016040519081016040528092919081815260200182805461054e90611e78565b801561059b5780601f106105705761010080835404028352916020019161059b565b820191906000526020600020905b81548152906001019060200180831161057e57829003601f168201915b5050505050836060015182815181106105b7576105b6612127565b5b602002602001015160000181905250600085600001516040516105da9190611dbb565b90815260200160405180910390206004016000828152602001908152602001600020600101548360600151828151811061061757610616612127565b5b602002602001015160200181815250506000856000015160405161063b9190611dbb565b908152602001604051809103902060040160008281526020019081526020016000206004015467ffffffffffffffff81111561067a5761067961125a565b5b6040519080825280602002602001820160405280156106b357816020015b6106a06111fc565b8152602001906001900390816106985790505b50836060015182815181106106cb576106ca612127565b5b60200260200101516040018190525060005b600086600001516040516106f19190611dbb565b9081526020016040518091039020600401600083815260200190815260200160002060040154811015610bec57600086600001516040516107329190611dbb565b908152602001604051809103902060040160008381526020019081526020016000206005016000828152602001908152602001600020600001805461077690611e78565b80601f01602080910402602001604051908101604052809291908181526020018280546107a290611e78565b80156107ef5780601f106107c4576101008083540402835291602001916107ef565b820191906000526020600020905b8154815290600101906020018083116107d257829003601f168201915b50505050508460600151838151811061080b5761080a612127565b5b602002602001015160400151828151811061082957610828612127565b5b602002602001015160000181905250600080876000015160405161084d9190611dbb565b9081526020016040518091039020600401600084815260200190815260200160002060050160008381526020019081526020016000206001015490508067ffffffffffffffff8111156108a3576108a261125a565b5b6040519080825280602002602001820160405280156108dc57816020015b6108c9611216565b8152602001906001900390816108c15790505b50856060015184815181106108f4576108f3612127565b5b602002602001015160400151838151811061091257610911612127565b5b60200260200101516020018190525060005b81811015610bd757600088600001516040516109409190611dbb565b9081526020016040518091039020600401600085815260200190815260200160002060050160008481526020019081526020016000206002016000828152602001908152602001600020600001805461099890611e78565b80601f01602080910402602001604051908101604052809291908181526020018280546109c490611e78565b8015610a115780601f106109e657610100808354040283529160200191610a11565b820191906000526020600020905b8154815290600101906020018083116109f457829003601f168201915b505050505086606001518581518110610a2d57610a2c612127565b5b6020026020010151604001518481518110610a4b57610a4a612127565b5b6020026020010151602001518281518110610a6957610a68612127565b5b60200260200101516000018190525060008860000151604051610a8c9190611dbb565b90815260200160405180910390206004016000858152602001908152602001600020600501600084815260200190815260200160002060020160008281526020019081526020016000206001018054610ae490611e78565b80601f0160208091040260200160405190810160405280929190818152602001828054610b1090611e78565b8015610b5d5780601f10610b3257610100808354040283529160200191610b5d565b820191906000526020600020905b815481529060010190602001808311610b4057829003601f168201915b505050505086606001518581518110610b7957610b78612127565b5b6020026020010151604001518481518110610b9757610b96612127565b5b6020026020010151602001518281518110610bb557610bb4612127565b5b6020026020010151602001819052508080610bcf90611e01565b915050610924565b50508080610be490611e01565b9150506106dd565b508080610bf890611e01565b9150506104d6565b5081925050505b919050565b60005b60008260200151604051610c239190611dbb565b9081526020016040518091039020600301548110156110bd57610d0b60008360200151604051610c539190611dbb565b908152602001604051809103902060040160008381526020019081526020016000206000018054610c8390611e78565b80601f0160208091040260200160405190810160405280929190818152602001828054610caf90611e78565b8015610cfc5780601f10610cd157610100808354040283529160200191610cfc565b820191906000526020600020905b815481529060010190602001808311610cdf57829003601f168201915b50505050508360400151611188565b156110aa5760005b60008360200151604051610d279190611dbb565b9081526020016040518091039020600401600083815260200190815260200160002060040154811015610e5657610e3760008460200151604051610d6b9190611dbb565b9081526020016040518091039020600401600084815260200190815260200160002060050160008381526020019081526020016000206000018054610daf90611e78565b80601f0160208091040260200160405190810160405280929190818152602001828054610ddb90611e78565b8015610e285780601f10610dfd57610100808354040283529160200191610e28565b820191906000526020600020905b815481529060010190602001808311610e0b57829003601f168201915b50505050508460000151611188565b15610e435750506110bf565b8080610e4e90611e01565b915050610d13565b506000808360200151604051610e6c9190611dbb565b908152602001604051809103902060040160008381526020019081526020016000206004016000815480929190610ea290611e01565b919050559050826000015160008460200151604051610ec19190611dbb565b9081526020016040518091039020600401600084815260200190815260200160002060050160008381526020019081526020016000206000019081610f069190612055565b5082606001515160008460200151604051610f219190611dbb565b9081526020016040518091039020600401600084815260200190815260200160002060050160008381526020019081526020016000206001018190555060005b8360600151518110156110a35783606001518181518110610f8557610f84612127565b5b60200260200101516000015160008560200151604051610fa59190611dbb565b90815260200160405180910390206004016000858152602001908152602001600020600501600084815260200190815260200160002060020160008381526020019081526020016000206000019081610ffe9190612055565b508360600151818151811061101657611015612127565b5b602002602001015160200151600085602001516040516110369190611dbb565b9081526020016040518091039020600401600085815260200190815260200160002060050160008481526020019081526020016000206002016000838152602001908152602001600020600101908161108f9190612055565b50808061109b90611e01565b915050610f61565b50506110bd565b80806110b590611e01565b915050610c0f565b505b50565b8060000151600082600001516040516110db9190611dbb565b908152602001604051809103902060000190816110f89190612055565b508060200151600082600001516040516111129190611dbb565b9081526020016040518091039020600101908161112f9190612055565b5060008082600001516040516111459190611dbb565b9081526020016040518091039020600301819055506064600082600001516040516111709190611dbb565b90815260200160405180910390206002018190555050565b600081805190602001208380519060200120036111a857600190506111ad565b600090505b92915050565b6040518060800160405280606081526020016000815260200160608152602001606081525090565b60405180606001604052806060815260200160008152602001606081525090565b604051806040016040528060608152602001606081525090565b604051806040016040528060608152602001606081525090565b6000604051905090565b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b61129282611249565b810181811067ffffffffffffffff821117156112b1576112b061125a565b5b80604052505050565b60006112c4611230565b90506112d08282611289565b919050565b600080fd5b600080fd5b600080fd5b600067ffffffffffffffff8211156112ff576112fe61125a565b5b61130882611249565b9050602081019050919050565b82818337600083830152505050565b6000611337611332846112e4565b6112ba565b905082815260208101848484011115611353576113526112df565b5b61135e848285611315565b509392505050565b600082601f83011261137b5761137a6112da565b5b813561138b848260208601611324565b91505092915050565b6000819050919050565b6113a781611394565b81146113b257600080fd5b50565b6000813590506113c48161139e565b92915050565b600067ffffffffffffffff8211156113e5576113e461125a565b5b602082029050602081019050919050565b600080fd5b600061140e611409846113ca565b6112ba565b90508083825260208201905060208402830185811115611431576114306113f6565b5b835b8181101561147857803567ffffffffffffffff811115611456576114556112da565b5b8086016114638982611366565b85526020850194505050602081019050611433565b5050509392505050565b600082601f830112611497576114966112da565b5b81356114a78482602086016113fb565b91505092915050565b6000608082840312156114c6576114c5611244565b5b6114d060806112ba565b9050600082013567ffffffffffffffff8111156114f0576114ef6112d5565b5b6114fc84828501611366565b600083015250602082013567ffffffffffffffff8111156115205761151f6112d5565b5b61152c84828501611366565b6020830152506040611540848285016113b5565b604083015250606082013567ffffffffffffffff811115611564576115636112d5565b5b61157084828501611482565b60608301525092915050565b6000602082840312156115925761159161123a565b5b600082013567ffffffffffffffff8111156115b0576115af61123f565b5b6115bc848285016114b0565b91505092915050565b6000604082840312156115db576115da611244565b5b6115e560406112ba565b9050600082013567ffffffffffffffff811115611605576116046112d5565b5b61161184828501611366565b600083015250602082013567ffffffffffffffff811115611635576116346112d5565b5b61164184828501611366565b60208301525092915050565b6000602082840312156116635761166261123a565b5b600082013567ffffffffffffffff8111156116815761168061123f565b5b61168d848285016115c5565b91505092915050565b600081519050919050565b600082825260208201905092915050565b60005b838110156116d05780820151818401526020810190506116b5565b838111156116df576000848401525b50505050565b60006116f082611696565b6116fa81856116a1565b935061170a8185602086016116b2565b61171381611249565b840191505092915050565b61172781611394565b82525050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b600060408301600083015184820360008601526117ce82826116e5565b915050602083015184820360208601526117e882826116e5565b9150508091505092915050565b600061180183836117b1565b905092915050565b6000602082019050919050565b600061182182611785565b61182b8185611790565b93508360208202850161183d856117a1565b8060005b85811015611879578484038952815161185a85826117f5565b945061186583611809565b925060208a01995050600181019050611841565b50829750879550505050505092915050565b600060408301600083015184820360008601526118a882826116e5565b915050602083015184820360208601526118c28282611816565b9150508091505092915050565b60006118db838361188b565b905092915050565b6000602082019050919050565b60006118fb82611759565b6119058185611764565b93508360208202850161191785611775565b8060005b85811015611953578484038952815161193485826118cf565b945061193f836118e3565b925060208a0199505060018101905061191b565b50829750879550505050505092915050565b6000606083016000830151848203600086015261198282826116e5565b9150506020830151611997602086018261171e565b50604083015184820360408601526119af82826118f0565b9150508091505092915050565b60006119c88383611965565b905092915050565b6000602082019050919050565b60006119e88261172d565b6119f28185611738565b935083602082028501611a0485611749565b8060005b85811015611a405784840389528151611a2185826119bc565b9450611a2c836119d0565b925060208a01995050600181019050611a08565b50829750879550505050505092915050565b60006080830160008301518482036000860152611a6f82826116e5565b9150506020830151611a84602086018261171e565b5060408301518482036040860152611a9c82826116e5565b91505060608301518482036060860152611ab682826119dd565b9150508091505092915050565b60006020820190508181036000830152611add8184611a52565b905092915050565b600067ffffffffffffffff821115611b0057611aff61125a565b5b602082029050602081019050919050565b600060408284031215611b2757611b26611244565b5b611b3160406112ba565b9050600082013567ffffffffffffffff811115611b5157611b506112d5565b5b611b5d84828501611366565b600083015250602082013567ffffffffffffffff811115611b8157611b806112d5565b5b611b8d84828501611366565b60208301525092915050565b6000611bac611ba784611ae5565b6112ba565b90508083825260208201905060208402830185811115611bcf57611bce6113f6565b5b835b81811015611c1657803567ffffffffffffffff811115611bf457611bf36112da565b5b808601611c018982611b11565b85526020850194505050602081019050611bd1565b5050509392505050565b600082601f830112611c3557611c346112da565b5b8135611c45848260208601611b99565b91505092915050565b600060808284031215611c6457611c63611244565b5b611c6e60806112ba565b9050600082013567ffffffffffffffff811115611c8e57611c8d6112d5565b5b611c9a84828501611366565b600083015250602082013567ffffffffffffffff811115611cbe57611cbd6112d5565b5b611cca84828501611366565b602083015250604082013567ffffffffffffffff811115611cee57611ced6112d5565b5b611cfa84828501611366565b604083015250606082013567ffffffffffffffff811115611d1e57611d1d6112d5565b5b611d2a84828501611c20565b60608301525092915050565b600060208284031215611d4c57611d4b61123a565b5b600082013567ffffffffffffffff811115611d6a57611d6961123f565b5b611d7684828501611c4e565b91505092915050565b600081905092915050565b6000611d9582611696565b611d9f8185611d7f565b9350611daf8185602086016116b2565b80840191505092915050565b6000611dc78284611d8a565b915081905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b6000611e0c82611394565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8203611e3e57611e3d611dd2565b5b600182019050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680611e9057607f821691505b602082108103611ea357611ea2611e49565b5b50919050565b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302611f0b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611ece565b611f158683611ece565b95508019841693508086168417925050509392505050565b6000819050919050565b6000611f52611f4d611f4884611394565b611f2d565b611394565b9050919050565b6000819050919050565b611f6c83611f37565b611f80611f7882611f59565b848454611edb565b825550505050565b600090565b611f95611f88565b611fa0818484611f63565b505050565b5b81811015611fc457611fb9600082611f8d565b600181019050611fa6565b5050565b601f82111561200957611fda81611ea9565b611fe384611ebe565b81016020851015611ff2578190505b612006611ffe85611ebe565b830182611fa5565b50505b505050565b600082821c905092915050565b600061202c6000198460080261200e565b1980831691505092915050565b6000612045838361201b565b9150826002028217905092915050565b61205e82611696565b67ffffffffffffffff8111156120775761207661125a565b5b6120818254611e78565b61208c828285611fc8565b600060209050601f8311600181146120bf57600084156120ad578287015190505b6120b78582612039565b86555061211f565b601f1984166120cd86611ea9565b60005b828110156120f5578489015182556001820191506020850194506020810190506120d0565b86831015612112578489015161210e601f89168261201b565b8355505b6001600288020188555050505b505050505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea2646970667358221220ed6d46fd39e62f0930673bb19cf24750961e6f48f6bec24a6f6c8d88da45d37d64736f6c634300080f0033";
        public MarketPlaceDeploymentBase() : base(BYTECODE) { }
        public MarketPlaceDeploymentBase(string byteCode) : base(byteCode) { }

    }

    public partial class AddDataPackFunction : AddDataPackFunctionBase { }

    [Function("addDataPack")]
    public class AddDataPackFunctionBase : FunctionMessage
    {
        [Parameter("tuple", "request", 1)]
        public virtual AddDataPackRequest Request { get; set; }
    }

    public partial class BuyDataFunction : BuyDataFunctionBase { }

    [Function("buyData")]
    public class BuyDataFunctionBase : FunctionMessage
    {
        [Parameter("tuple", "request", 1)]
        public virtual BuyDataRequest Request { get; set; }
    }

    public partial class CreateOrganizationFunction : CreateOrganizationFunctionBase { }

    [Function("createOrganization")]
    public class CreateOrganizationFunctionBase : FunctionMessage
    {
        [Parameter("tuple", "request", 1)]
        public virtual CreateOrgRequest Request { get; set; }
    }

    public partial class GetOrganizationFunction : GetOrganizationFunctionBase { }

    [Function("getOrganization", typeof(GetOrganizationOutputDTO))]
    public class GetOrganizationFunctionBase : FunctionMessage
    {
        [Parameter("tuple", "request", 1)]
        public virtual CreateOrgRequest Request { get; set; }
    }







    public partial class GetOrganizationOutputDTO : GetOrganizationOutputDTOBase { }

    [FunctionOutput]
    public class GetOrganizationOutputDTOBase : IFunctionOutputDTO
    {
        [Parameter("tuple", "", 1)]
        public virtual OrganizationResponse ReturnValue1 { get; set; }
    }

    public partial class AddDataPackRequest : AddDataPackRequestBase { }

    public class AddDataPackRequestBase
    {
        [Parameter("string", "organization", 1)]
        public virtual string Organization { get; set; }
        [Parameter("string", "id", 2)]
        public virtual string Id { get; set; }
        [Parameter("uint256", "pricePerUnit", 3)]
        public virtual BigInteger PricePerUnit { get; set; }
        [Parameter("string[]", "requestedAttributes", 4)]
        public virtual List<string> RequestedAttributes { get; set; }
    }


    public partial class BuyDataRequest : BuyDataRequestBase { }

    public class BuyDataRequestBase
    {
        [Parameter("string", "userID", 1)]
        public virtual string UserID { get; set; }
        [Parameter("string", "organization", 2)]
        public virtual string Organization { get; set; }
        [Parameter("string", "dataPackID", 3)]
        public virtual string DataPackID { get; set; }
        [Parameter("tuple[]", "attributes", 4)]
        public virtual List<Attribute> Attributes { get; set; }
    }

    public partial class CreateOrgRequest : CreateOrgRequestBase { }

    public class CreateOrgRequestBase
    {
        [Parameter("string", "id", 1)]
        public virtual string Id { get; set; }
        [Parameter("string", "password", 2)]
        public virtual string Password { get; set; }
    }

    public partial class DataPackReceivedRequest : DataPackReceivedRequestBase { }

    public class DataPackReceivedRequestBase
    {
        [Parameter("string", "userID", 1)]
        public virtual string UserID { get; set; }
        [Parameter("tuple[]", "attributes", 2)]
        public virtual List<Attribute> Attributes { get; set; }
    }

    public partial class DataPackResponse : DataPackResponseBase { }

    public class DataPackResponseBase
    {
        [Parameter("string", "id", 1)]
        public virtual string Id { get; set; }
        [Parameter("uint256", "pricePerUnit", 2)]
        public virtual BigInteger PricePerUnit { get; set; }
        [Parameter("tuple[]", "received", 3)]
        public virtual List<DataPackReceivedRequest> Received { get; set; }
    }

    public partial class OrganizationResponse : OrganizationResponseBase { }

    public class OrganizationResponseBase
    {
        [Parameter("string", "id", 1)]
        public virtual string Id { get; set; }
        [Parameter("uint256", "balance", 2)]
        public virtual BigInteger Balance { get; set; }
        [Parameter("string", "status", 3)]
        public virtual string Status { get; set; }
        [Parameter("tuple[]", "packs", 4)]
        public virtual List<DataPackResponse> Packs { get; set; }
    }
}

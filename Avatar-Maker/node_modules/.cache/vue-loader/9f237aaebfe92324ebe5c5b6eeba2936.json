{"remainingRequest":"C:\\Users\\bexyb\\Documents\\301 cloned repo\\Exploring-Self-Sovereign-Identity\\Avatar-Maker\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\bexyb\\Documents\\301 cloned repo\\Exploring-Self-Sovereign-Identity\\Avatar-Maker\\src\\components\\save_image.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\bexyb\\Documents\\301 cloned repo\\Exploring-Self-Sovereign-Identity\\Avatar-Maker\\src\\components\\save_image.vue","mtime":1661176888408},{"path":"C:\\Users\\bexyb\\Documents\\301 cloned repo\\Exploring-Self-Sovereign-Identity\\Avatar-Maker\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659459069016},{"path":"C:\\Users\\bexyb\\Documents\\301 cloned repo\\Exploring-Self-Sovereign-Identity\\Avatar-Maker\\node_modules\\vue-loader\\lib\\index.js","mtime":1659459051041}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ2FudmcgZnJvbSAnY2FudmcnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdTYXZlSW1hZ2UnLA0KICBtZXRob2RzOiB7DQogICAgLyoqDQogICAgICogDQogICAgICoNCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VVUkwgDQogICAgICovDQogICAgZG93bmxvYWRJbWFnZShpbWFnZVVSTCkgew0KICAgDQogICAgICBjb25zdCBkb3dubG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7DQogICAgICBkb3dubG9hZExpbmsuaHJlZiA9IGltYWdlVVJMOw0KICAgICAgZG93bmxvYWRMaW5rLmRvd25sb2FkID0gJ2F2YXRhci5wbmcnOw0KICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb3dubG9hZExpbmspOw0KICAgICAgZG93bmxvYWRMaW5rLmRpc3BhdGNoRXZlbnQoDQogICAgICAgICAgbmV3IE1vdXNlRXZlbnQoJ2NsaWNrJywgeyANCiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWUsIA0KICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSwgDQogICAgICAgICAgICB2aWV3OiB3aW5kb3cgDQogICAgICAgICAgfSkNCiAgICAgICAgKTsNCg0KICAgICANCiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZG93bmxvYWRMaW5rKTsNCiAgICB9LA0KDQogICAgYXN5bmMgc2F2ZUltYWdlKCkgew0KICAgICANCiAgICAgIGxldCBjb21iaW5lZFN2ZyA9ICc8ZGl2IGlkPSJhdmF0YXIiIHN0eWxlPSJwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyI+PHN2ZyB3aWR0aD0iMzYwcHgiIGhlaWdodD0iMzYwcHgiIHZpZXdCb3g9IjAgMCAzNjAgMzYwIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlO3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTsiPic7DQoNCiAgICAgIA0KICAgICAgY29uc3QgYWRkSWZBdmFpbGFibGUgPSAoZWxlbWVudCkgPT4gew0KICAgICAgICBpZiAoZWxlbWVudCAhPT0gdW5kZWZpbmVkICYmIGVsZW1lbnQgIT09IG51bGwpIHsNCiAgICAgICAgICBjb21iaW5lZFN2ZyA9IGNvbWJpbmVkU3ZnICsgZWxlbWVudC5vdXRlckhUTUw7DQogICAgICAgIH0NCiAgICAgIH07DQoNCg0KICAgICAgY29uc3QgYXZhdGFyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2F2YXRhcicpOw0KICAgICAgYWRkSWZBdmFpbGFibGUoYXZhdGFyRGl2LnF1ZXJ5U2VsZWN0b3IoJyNza2luQ29sb3InKS5xdWVyeVNlbGVjdG9yKCcuc2hvdycpKTsNCiAgICAgIGFkZElmQXZhaWxhYmxlKGF2YXRhckRpdi5xdWVyeVNlbGVjdG9yKCcjdGF0dG9vcycpLnF1ZXJ5U2VsZWN0b3IoJy5zaG93JykpOw0KICAgICAgYWRkSWZBdmFpbGFibGUoYXZhdGFyRGl2LnF1ZXJ5U2VsZWN0b3IoJyNhY2Nlc29yaWVzJykucXVlcnlTZWxlY3RvcignLnNob3cnKSk7DQogICAgICBhZGRJZkF2YWlsYWJsZShhdmF0YXJEaXYucXVlcnlTZWxlY3RvcignI2Nsb3RoZXMnKS5xdWVyeVNlbGVjdG9yKCcuc2hvdycpKTsNCiAgICAgIGFkZElmQXZhaWxhYmxlKGF2YXRhckRpdi5xdWVyeVNlbGVjdG9yKCcjZXllYnJvd3MnKS5xdWVyeVNlbGVjdG9yKCcuc2hvdycpKTsNCiAgICAgIGFkZElmQXZhaWxhYmxlKGF2YXRhckRpdi5xdWVyeVNlbGVjdG9yKCcjZXllcycpLnF1ZXJ5U2VsZWN0b3IoJy5zaG93JykpOw0KICAgICAgYWRkSWZBdmFpbGFibGUoYXZhdGFyRGl2LnF1ZXJ5U2VsZWN0b3IoJyNtb3V0aHMnKS5xdWVyeVNlbGVjdG9yKCcuc2hvdycpKTsNCiAgICAgIGFkZElmQXZhaWxhYmxlKGF2YXRhckRpdi5xdWVyeVNlbGVjdG9yKCcjaGFpcicpLnF1ZXJ5U2VsZWN0b3IoJy5zaG93JykpOw0KICAgICAgYWRkSWZBdmFpbGFibGUoYXZhdGFyRGl2LnF1ZXJ5U2VsZWN0b3IoJyNmYWNpYWxoYWlyMicpLnF1ZXJ5U2VsZWN0b3IoJy5zaG93JykpOw0KICAgICAgYWRkSWZBdmFpbGFibGUoYXZhdGFyRGl2LnF1ZXJ5U2VsZWN0b3IoJyNnbGFzc2VzJykucXVlcnlTZWxlY3RvcignLnNob3cnKSk7DQoNCiAgICAgIGNvbWJpbmVkU3ZnID0gY29tYmluZWRTdmcgKyAnPC9zdmc+PC9kaXY+JzsNCg0KICAgICANCiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOw0KICAgICAgY2FudmFzLndpZHRoID0gMTIwMDsNCiAgICAgIGNhbnZhcy5oZWlnaHQgPSAxMjAwOw0KICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7DQogICAgICBjb25zdCBkcmF3biA9IENhbnZnLmZyb21TdHJpbmcoY3R4LCBjb21iaW5lZFN2Zyk7DQoNCiAgICAgIGF3YWl0IGRyYXduLnJlbmRlcigpOw0KDQogICAgICB0aGlzLmRvd25sb2FkSW1hZ2UoY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJykpOw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["save_image.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"save_image.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <img class=\"random download-img\" @click=\"saveImage\" :src=\"require('../assets/img/download.svg')\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Canvg from 'canvg';\r\n\r\nexport default {\r\n  name: 'SaveImage',\r\n  methods: {\r\n    /**\r\n     * \r\n     *\r\n     * @param {string} imageURL \r\n     */\r\n    downloadImage(imageURL) {\r\n   \r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.href = imageURL;\r\n      downloadLink.download = 'avatar.png';\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.dispatchEvent(\r\n          new MouseEvent('click', { \r\n            bubbles: true, \r\n            cancelable: true, \r\n            view: window \r\n          })\r\n        );\r\n\r\n     \r\n      document.body.removeChild(downloadLink);\r\n    },\r\n\r\n    async saveImage() {\r\n     \r\n      let combinedSvg = '<div id=\"avatar\" style=\"position:relative;width:100%;height:100%;\"><svg width=\"360px\" height=\"360px\" viewBox=\"0 0 360 360\" style=\"position: absolute;width: 100%;height: 100%;\">';\r\n\r\n      \r\n      const addIfAvailable = (element) => {\r\n        if (element !== undefined && element !== null) {\r\n          combinedSvg = combinedSvg + element.outerHTML;\r\n        }\r\n      };\r\n\r\n\r\n      const avatarDiv = document.querySelector('#avatar');\r\n      addIfAvailable(avatarDiv.querySelector('#skinColor').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#tattoos').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#accesories').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#clothes').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#eyebrows').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#eyes').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#mouths').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#hair').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#facialhair2').querySelector('.show'));\r\n      addIfAvailable(avatarDiv.querySelector('#glasses').querySelector('.show'));\r\n\r\n      combinedSvg = combinedSvg + '</svg></div>';\r\n\r\n     \r\n      const canvas = document.createElement(\"canvas\");\r\n      canvas.width = 1200;\r\n      canvas.height = 1200;\r\n      const ctx = canvas.getContext('2d');\r\n      const drawn = Canvg.fromString(ctx, combinedSvg);\r\n\r\n      await drawn.render();\r\n\r\n      this.downloadImage(canvas.toDataURL('image/png'));\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}